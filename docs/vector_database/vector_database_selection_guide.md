# Vector Database é€‰æ‹©æŒ‡å—

## ğŸ“‹ æ–‡æ¡£æ¦‚è§ˆ

æœ¬æ–‡æ¡£ä¸º SuperStream-RAG é¡¹ç›®æä¾› Vector Databaseï¼ˆå‘é‡æ•°æ®åº“ï¼‰çš„é€‰æ‹©ã€å¯¹æ¯”ã€éƒ¨ç½²å’Œè¿ç§»æŒ‡å—ã€‚

**æœ€åæ›´æ–°**: 2025-12-24
**é¡¹ç›®**: SuperStream-RAG
**ç»´æŠ¤è€…**: AI åŠ©æ‰‹

---

## ç›®å½•

1. [å¿«é€Ÿå†³ç­–æ ‘](#å¿«é€Ÿå†³ç­–æ ‘)
2. [è¯¦ç»†å¯¹æ¯”](#è¯¦ç»†å¯¹æ¯”)
3. [FAISS äº‘éƒ¨ç½²æ–¹æ¡ˆ](#faiss-äº‘éƒ¨ç½²æ–¹æ¡ˆ)
4. [å„æ•°æ®åº“è¯¦è§£](#å„æ•°æ®åº“è¯¦è§£)
5. [è¿ç§»æŒ‡å—](#è¿ç§»æŒ‡å—)
6. [æˆæœ¬åˆ†æ](#æˆæœ¬åˆ†æ)
7. [å®æ–½è·¯çº¿å›¾](#å®æ–½è·¯çº¿å›¾)

---

## å¿«é€Ÿå†³ç­–æ ‘

```
å¼€å§‹é€‰æ‹© Vector Database
â”‚
â”œâ”€ é¢„ç®—/æˆæœ¬è€ƒè™‘?
â”‚  â”œâ”€ é›¶æˆæœ¬/è‡ªå»º
â”‚  â”‚  â””â”€ FAISS (æœ¬åœ°) æˆ– Milvus (è‡ªå»º)
â”‚  â”œâ”€ ä½æˆæœ¬ (<$100/æœˆ)
â”‚  â”‚  â””â”€ Chroma æˆ– Qdrant
â”‚  â””â”€ æœ‰é¢„ç®— (>$100/æœˆ)
â”‚     â””â”€ Pinecone æˆ– Weaviate Cloud
â”‚
â”œâ”€ éƒ¨ç½²ç¯å¢ƒ?
â”‚  â”œâ”€ æœ¬åœ°/ä¸ªäººé¡¹ç›®
â”‚  â”‚  â””â”€ FAISS
â”‚  â”œâ”€ è‡ªå»ºæœåŠ¡å™¨/å®¹å™¨
â”‚  â”‚  â””â”€ Milvus, Qdrant, Chroma
â”‚  â””â”€ äº‘æ‰˜ç®¡
â”‚     â””â”€ Pinecone, Weaviate Cloud, Milvus Cloud
â”‚
â”œâ”€ è§„æ¨¡éœ€æ±‚?
â”‚  â”œâ”€ å° (<100MB ç´¢å¼•)
â”‚  â”‚  â””â”€ FAISS, Chroma
â”‚  â”œâ”€ ä¸­ (100MB-10GB)
â”‚  â”‚  â””â”€ Chroma, Qdrant, Milvus
â”‚  â””â”€ å¤§ (>10GB)
â”‚     â””â”€ Pinecone, Milvus, Weaviate
â”‚
â””â”€ åŠŸèƒ½éœ€æ±‚?
   â”œâ”€ çº¯å‘é‡æœç´¢
   â”‚  â””â”€ FAISS, Chroma, Qdrant
   â”œâ”€ æ··åˆæœç´¢ (å‘é‡+å…³é”®è¯)
   â”‚  â””â”€ Weaviate, Milvus
   â””â”€ å®Œæ•´ RAG æ¡†æ¶
      â””â”€ Weaviate, Pinecone
```

---

## è¯¦ç»†å¯¹æ¯”

### ç»¼åˆå¯¹æ¯”è¡¨

| ç»´åº¦ | FAISS | Chroma | Pinecone | Weaviate | Milvus | Qdrant |
|------|-------|--------|----------|----------|--------|--------|
| **éƒ¨ç½²æ–¹å¼** | æœ¬åœ°/å®¹å™¨ | æœ¬åœ°/å®¹å™¨/æ‰˜ç®¡ | äº‘æ‰˜ç®¡ | æœ¬åœ°/å®¹å™¨/æ‰˜ç®¡ | æœ¬åœ°/å®¹å™¨/æ‰˜ç®¡ | æœ¬åœ°/å®¹å™¨/æ‰˜ç®¡ |
| **æˆæœ¬** | ğŸ’° | ğŸ’° | ğŸ’°ğŸ’°ğŸ’° | ğŸ’° | ğŸ’° | ğŸ’° |
| **æ€§èƒ½** | âš¡âš¡âš¡ | âš¡âš¡ | âš¡âš¡âš¡ | âš¡âš¡ | âš¡âš¡âš¡ | âš¡âš¡âš¡ |
| **å¯æ‰©å±•æ€§** | âŒ | âš ï¸ | âœ… | âœ… | âœ… | âœ… |
| **è¿œç¨‹è®¿é—®** | âŒ | âœ… | âœ… | âœ… | âœ… | âœ… |
| **é«˜å¯ç”¨** | âŒ | âš ï¸ | âœ… | âœ… | âœ… | âœ… |
| **å…ƒæ•°æ®è¿‡æ»¤** | âš ï¸ | âœ… | âœ… | âœ… | âœ… | âœ… |
| **æ··åˆæœç´¢** | âŒ | âŒ | âŒ | âœ… | âœ… | âŒ |
| **SQL æ”¯æŒ** | âŒ | âŒ | âŒ | âœ… | âœ… | âŒ |
| **å­¦ä¹ æ›²çº¿** | ç®€å• | ç®€å• | ç®€å• | ä¸­ç­‰ | ä¸­ç­‰ | ç®€å• |
| **ç¤¾åŒº** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |

### æ€§èƒ½å¯¹æ¯”

```
æ£€ç´¢é€Ÿåº¦ (æ¯«ç§’) - 1M å‘é‡æ•°æ®:
â”œâ”€ Pinecone    : ~50ms  âš¡âš¡âš¡
â”œâ”€ FAISS       : ~80ms  âš¡âš¡âš¡
â”œâ”€ Qdrant      : ~100ms âš¡âš¡
â”œâ”€ Milvus      : ~120ms âš¡âš¡
â”œâ”€ Chroma      : ~200ms âš¡
â””â”€ Weaviate    : ~250ms âš¡

å†…å­˜å ç”¨ (ç›¸å¯¹å€¼):
â”œâ”€ FAISS       : ===== (5/5, æœ€é«˜æ•ˆ)
â”œâ”€ Pinecone    : ==== (æ‰˜ç®¡)
â”œâ”€ Qdrant      : ==== (4/5)
â”œâ”€ Milvus      : ==== (4/5)
â”œâ”€ Chroma      : === (3/5)
â””â”€ Weaviate    : === (3/5)
```

---

## FAISS äº‘éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šå®¹å™¨åŒ– FAISS + FastAPIï¼ˆæœ€å¿«ä¸Šäº‘ï¼‰

**æ¶æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     äº‘æœåŠ¡å™¨            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FastAPI/Flask  â”‚   â”‚ â† RESTful API
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     FAISS       â”‚   â”‚ â† å‘é‡æ£€ç´¢
â”‚  â”‚   (å†…å­˜/ç£ç›˜)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜ç‚¹**:
- âœ… æˆæœ¬æœ€ä½ï¼ˆåªéœ€äº‘è®¡ç®—èµ„æºï¼‰
- âœ… æ”¹åŠ¨æœ€å°ï¼ˆç°æœ‰ä»£ç å¯å¤ç”¨ï¼‰
- âœ… éƒ¨ç½²å¿«é€Ÿï¼ˆDocker åŒ–å³å¯ï¼‰
- âœ… å“åº”å¿«ï¼ˆæœ¬åœ°å†…å­˜è®¿é—®ï¼‰

**åŠ£åŠ¿**:
- âŒ å•ç‚¹æ•…éšœé£é™©
- âŒ ä¸æ”¯æŒæ°´å¹³æ‰©å±•ï¼ˆå•å®ä¾‹ï¼‰
- âŒ æ— å†…ç½®é«˜å¯ç”¨

**æˆæœ¬ä¼°ç®—**:
- AWS EC2 t3.medium: ~$30/æœˆ
- å­˜å‚¨ï¼ˆS3ï¼‰: ~$1/GB/æœˆ
- æ€»è®¡: ~$50-100/æœˆ

**ä½•æ—¶ä½¿ç”¨**:
- ç”¨æˆ·é‡ < 1000/å¤©
- ç´¢å¼•å¤§å° < 50GB
- å¯æ¥å—å¶å‘åœæœº
- å¿«é€ŸéªŒè¯é˜¶æ®µ

---

### æ–¹æ¡ˆ Bï¼šäº‘å­˜å‚¨ + å¤šå®ä¾‹éƒ¨ç½²ï¼ˆé«˜å¯ç”¨ FAISSï¼‰

**æ¶æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       äº‘ç¯å¢ƒï¼ˆè‡ªåŠ¨æ‰©å±•ï¼‰      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å®ä¾‹ 1   â”‚  â”‚ å®ä¾‹ 2   â”‚  â”‚
â”‚  â”‚ FAISS    â”‚  â”‚ FAISS    â”‚  â”‚
â”‚  â”‚(å†…å­˜ç¼“å­˜)â”‚  â”‚(å†…å­˜ç¼“å­˜)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è´Ÿè½½å‡è¡¡å™¨ (LB)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å¯¹è±¡å­˜å‚¨         â”‚
    â”‚ (S3/OSS/COS)    â”‚
    â”‚ FAISS ç´¢å¼•æ–‡ä»¶  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜ç‚¹**:
- âœ… æ”¯æŒå¤šå®ä¾‹ã€è‡ªåŠ¨æ‰©å±•
- âœ… æ•…éšœè½¬ç§»ï¼ˆä¸€ä¸ªå®ä¾‹å®•æœºä¸å½±å“ï¼‰
- âœ… è´Ÿè½½å‡è¡¡
- âœ… æ›´å¥½çš„ååé‡

**åŠ£åŠ¿**:
- âš ï¸ ç´¢å¼•åŒæ­¥å¤æ‚ï¼ˆéœ€è¦æ‰‹åŠ¨æˆ–å®šæ—¶æ›´æ–°ï¼‰
- âš ï¸ ç´¢å¼•æ›´æ–°æœ‰å»¶è¿Ÿï¼ˆå‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼‰
- âš ï¸ å¤šå®ä¾‹å†…å­˜æ¶ˆè€—ï¼ˆç´¢å¼•æ•°æ®é‡å¤ï¼‰
- âš ï¸ é…ç½®å¤æ‚åº¦æé«˜

**æˆæœ¬ä¼°ç®—**:
- 3 x EC2 t3.medium: ~$90/æœˆ
- è´Ÿè½½å‡è¡¡å™¨: ~$20/æœˆ
- å­˜å‚¨ (S3): ~$1/GB/æœˆ
- æ€»è®¡: ~$150-200/æœˆ

**ä½•æ—¶ä½¿ç”¨**:
- ç”¨æˆ·é‡ 1000-10000/å¤©
- éœ€è¦ 99.5% å¯ç”¨æ€§
- ç´¢å¼•æ›´æ–°é¢‘ç‡ä½ï¼ˆæ¯å¤© < 1 æ¬¡ï¼‰

---

### æ–¹æ¡ˆ Cï¼šäº‘å­˜å‚¨ + å®šæœŸç´¢å¼•åŒæ­¥

**æµç¨‹**:
```
1. æœ¬åœ°æ„å»ºæ–°ç´¢å¼•
   â””â”€> ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨ (S3/OSS)

2. äº‘æœåŠ¡å™¨å®šæœŸæ‹‰å–æ–°ç´¢å¼•
   â””â”€> ä¸‹è½½åˆ°æœ¬åœ°ç£ç›˜/å†…å­˜
   â””â”€> çƒ­é‡æ–°åŠ è½½

3. å®¢æˆ·ç«¯è¯·æ±‚æ—¶
   â””â”€> ä½¿ç”¨æœ€æ–°ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢
```

**è„šæœ¬ç¤ºä¾‹**:
```python
# äº‘æœåŠ¡å™¨ä¸Šå®šæœŸè¿è¡Œ
import boto3
from datetime import datetime

def sync_faiss_index():
    s3 = boto3.client('s3')
    bucket = 'my-bucket'
    key = 'faiss-index/data.index'

    # æ£€æŸ¥è¿œç¨‹ç‰ˆæœ¬
    remote_obj = s3.head_object(Bucket=bucket, Key=key)
    remote_time = remote_obj['LastModified']

    # æ£€æŸ¥æœ¬åœ°ç‰ˆæœ¬
    try:
        local_time = datetime.fromtimestamp(
            os.path.getmtime('./data/index/data.index')
        )
    except FileNotFoundError:
        local_time = datetime.min

    # éœ€è¦æ›´æ–°
    if remote_time > local_time:
        s3.download_file(bucket, key, './data/index/data.index')
        reload_index()
```

**ä¼˜ç‚¹**:
- âœ… æˆæœ¬ä½ï¼ˆåªéœ€è®¡ç®— + å­˜å‚¨ï¼‰
- âœ… ç®€å•å¯é 
- âœ… æ˜“äºç›‘æ§å’Œè°ƒè¯•

**åŠ£åŠ¿**:
- âš ï¸ ç´¢å¼•æ›´æ–°å»¶è¿Ÿ
- âš ï¸ éœ€è¦å®šæ—¶ä»»åŠ¡ç®¡ç†
- âš ï¸ æ›´æ–°è¿‡ç¨‹ä¸­å¯èƒ½çŸ­æš‚ä¸å¯ç”¨

---

### éƒ¨ç½²æ­¥éª¤ (ä»¥ AWS ä¸ºä¾‹)

#### 1. åˆ›å»º FastAPI æœåŠ¡

```python
# app.py
from fastapi import FastAPI, HTTPException
from retrieval import SuperStreamQueryEngine
import logging

app = FastAPI(title="SuperStream RAG API")
engine = SuperStreamQueryEngine()

@app.get("/query")
async def query(q: str, top_k: int = 5):
    try:
        response = engine.query(q)
        return {
            "query": q,
            "response": response,
            "status": "success"
        }
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@app.get("/retrieve")
async def retrieve(q: str, top_k: int = 5):
    try:
        nodes = engine.retrieve_documents(q, top_k=top_k)
        return {
            "query": q,
            "documents": [
                {
                    "score": node.score,
                    "content": node.text[:500]
                }
                for node in nodes
            ],
            "status": "success"
        }
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))

@app.get("/health")
async def health():
    return {"status": "healthy"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

#### 2. åˆ›å»º Dockerfile

```dockerfile
FROM python:3.9-slim

WORKDIR /app

# å®‰è£…ä¾èµ–
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶é¡¹ç›®ä»£ç 
COPY . .

# ä¸‹è½½å¿…è¦çš„æ¨¡å‹/æ•°æ®ï¼ˆå¦‚éœ€è¦ï¼‰
# RUN python -c "from ingest import PDFLoader; PDFLoader().load_documents()"

EXPOSE 8000

CMD ["python", "app.py"]
```

#### 3. æ„å»ºå¹¶æ¨é€åˆ° ECR

```bash
# ç™»å½• AWS ECR
aws ecr get-login-password --region us-east-1 | \
  docker login --username AWS --password-stdin 123456789.dkr.ecr.us-east-1.amazonaws.com

# æ„å»ºé•œåƒ
docker build -t superstream-rag:latest .

# æ ‡è®°é•œåƒ
docker tag superstream-rag:latest \
  123456789.dkr.ecr.us-east-1.amazonaws.com/superstream-rag:latest

# æ¨é€åˆ° ECR
docker push 123456789.dkr.ecr.us-east-1.amazonaws.com/superstream-rag:latest
```

#### 4. éƒ¨ç½²åˆ° ECS

```yaml
# ecs-task-definition.json
{
  "family": "superstream-rag",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "containerDefinitions": [
    {
      "name": "superstream-rag",
      "image": "123456789.dkr.ecr.us-east-1.amazonaws.com/superstream-rag:latest",
      "portMappings": [
        {
          "containerPort": 8000,
          "hostPort": 8000,
          "protocol": "tcp"
        }
      ],
      "environment": [
        {
          "name": "OPENAI_API_KEY",
          "value": "your-key-here"
        }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/ecs/superstream-rag",
          "awslogs-region": "us-east-1",
          "awslogs-stream-prefix": "ecs"
        }
      }
    }
  ]
}
```

---

## å„æ•°æ®åº“è¯¦è§£

### 1. FAISS

**ç®€ä»‹**: Facebook AI Similarity Searchï¼Œçº¯æœ¬åœ°å‘é‡æœç´¢åº“

**æ ¸å¿ƒç‰¹ç‚¹**:
- ğŸš€ è¶…é«˜æ€§èƒ½ï¼ˆC++ å®ç°ï¼‰
- ğŸ’¾ ä½å†…å­˜å ç”¨
- ğŸ“¦ è½»é‡çº§ï¼ˆæ— å¤–éƒ¨ä¾èµ–ï¼‰
- ğŸ”“ å®Œå…¨å¼€æº

**é€‚ç”¨åœºæ™¯**:
- æœ¬åœ°å¼€å‘/æµ‹è¯•
- ç¦»çº¿åº”ç”¨
- å°è§„æ¨¡åº”ç”¨
- å¿«é€ŸåŸå‹éªŒè¯

**ä¸é€‚ç”¨åœºæ™¯**:
- éœ€è¦è¿œç¨‹è®¿é—®
- å¤šç”¨æˆ·å¹¶å‘
- éœ€è¦é«˜å¯ç”¨
- å®æ—¶æ›´æ–°ç´¢å¼•

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.faiss import FaissVectorStore

vector_store = FaissVectorStore.from_documents(documents)
index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**æˆæœ¬**: å…è´¹ (å¼€æº)

**æ–‡æ¡£**: https://github.com/facebookresearch/faiss

---

### 2. Chroma

**ç®€ä»‹**: ç°ä»£åŒ–çš„åµŒå…¥å¼å‘é‡æ•°æ®åº“ï¼Œæ”¯æŒæœ¬åœ°å’Œäº‘ç«¯

**æ ¸å¿ƒç‰¹ç‚¹**:
- ğŸ¯ è½»é‡çº§ã€æ˜“ä¸Šæ‰‹
- ğŸ”„ æ”¯æŒæœ¬åœ°å’ŒæœåŠ¡å™¨æ¨¡å¼
- ğŸ“ å¼ºå¤§çš„å…ƒæ•°æ®è¿‡æ»¤
- ğŸ”“ å¼€æºã€æ´»è·ƒç¤¾åŒº
- ğŸš€ ä¸é”™çš„æ€§èƒ½

**é€‚ç”¨åœºæ™¯**:
- å°åˆ°ä¸­å‹åº”ç”¨
- å¿«é€Ÿå¼€å‘
- éœ€è¦å…ƒæ•°æ®è¿‡æ»¤
- å›¢é˜Ÿåä½œ

**ä¸é€‚ç”¨åœºæ™¯**:
- è¶…å¤§è§„æ¨¡æ•°æ® (>100GB)
- æç«¯æ€§èƒ½éœ€æ±‚
- å¤æ‚çš„æ··åˆæœç´¢

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.chroma import ChromaVectorStore
import chromadb

chroma_client = chromadb.HttpClient(host="localhost", port=8000)
collection = chroma_client.get_or_create_collection("superstream")

vector_store = ChromaVectorStore(chroma_collection=collection)
index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**éƒ¨ç½²æ–¹å¼**:
```bash
# æœ¬åœ°å•æœº
chroma run --path ./data

# Docker éƒ¨ç½²
docker run -p 8000:8000 ghcr.io/chroma-core/chroma:latest

# äº‘éƒ¨ç½² (Chroma Cloud - æµ‹è¯•ä¸­)
```

**æˆæœ¬**:
- è‡ªå»º: å…è´¹ (å¼€æº)
- Cloud: å¾…å‘å¸ƒ

**æ–‡æ¡£**: https://docs.trychroma.com/

---

### 3. Pinecone

**ç®€ä»‹**: å®Œå…¨æ‰˜ç®¡çš„äº‘å‘é‡æ•°æ®åº“ï¼Œä¼ä¸šçº§æ–¹æ¡ˆ

**æ ¸å¿ƒç‰¹ç‚¹**:
- â˜ï¸ å®Œå…¨æ‰˜ç®¡ï¼Œé›¶è¿ç»´
- ğŸš€ è¶…é«˜æ€§èƒ½ï¼ˆå…¨çƒåˆ†å¸ƒï¼‰
- ğŸ” ä¼ä¸šçº§å®‰å…¨ï¼ˆSOC2ã€HIPAAï¼‰
- ğŸ“ˆ è‡ªåŠ¨æ‰©å±•
- ğŸ”„ å®æ—¶ç´¢å¼•æ›´æ–°

**é€‚ç”¨åœºæ™¯**:
- å•†ä¸šåº”ç”¨
- é«˜å¯ç”¨éœ€æ±‚
- å¿«é€Ÿå¢é•¿ä¸šåŠ¡
- å¯¹æˆæœ¬ä¸æ•æ„Ÿ

**ä¸é€‚ç”¨åœºæ™¯**:
- é›¶æˆæœ¬é¡¹ç›®
- ç¦»çº¿åº”ç”¨
- å®Œå…¨æ•°æ®ç§å¯†æ€§éœ€æ±‚

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.pinecone import PineconeVectorStore
import pinecone

pinecone.init(api_key="your-api-key", environment="gcp-starter")
index = pinecone.Index("superstream")

vector_store = PineconeVectorStore(pinecone_index=index)
vector_index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**æˆæœ¬**:
| æ–¹æ¡ˆ | åŒ…å«é¢åº¦ | è¶…é¢ä»·æ ¼ | æœˆè´¹ |
|------|--------|--------|------|
| **Free** | 125M vectors | - | $0 |
| **Starter** | 100M vectors | $0.25/M vectors | $25 |
| **Pro** | æ— é™ | $0.15/M vectors | $75+ |

**æ–‡æ¡£**: https://docs.pinecone.io/

---

### 4. Weaviate

**ç®€ä»‹**: å¼€æºå‘é‡æ•°æ®åº“ï¼Œæ”¯æŒæ··åˆæœç´¢å’Œ GraphQL

**æ ¸å¿ƒç‰¹ç‚¹**:
- ğŸ”“ å®Œå…¨å¼€æºã€è‡ªä¸»éƒ¨ç½²
- ğŸ” æ··åˆæœç´¢ (å‘é‡ + å…³é”®è¯)
- ğŸ—‚ï¸ GraphQL æŸ¥è¯¢
- ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- ğŸ”— çŸ¥è¯†å›¾è°±æ”¯æŒ

**é€‚ç”¨åœºæ™¯**:
- å¤æ‚æœç´¢éœ€æ±‚
- çŸ¥è¯†å›¾è°±åº”ç”¨
- å®Œå…¨æ•°æ®æ§åˆ¶
- æ··åˆæœç´¢åœºæ™¯

**ä¸é€‚ç”¨åœºæ™¯**:
- æç®€é¡¹ç›®
- å­¦ä¹ æ›²çº¿è¦æ±‚ä½
- çº¯å‘é‡æœç´¢

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.weaviate import WeaviateVectorStore
import weaviate

client = weaviate.Client("http://localhost:8080")

vector_store = WeaviateVectorStore(
    weaviate_client=client,
    index_name="Superstream"
)
index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**éƒ¨ç½²æ–¹å¼**:
```bash
# Docker Compose
docker-compose up -d weaviate

# Kubernetes
helm install weaviate weaviate/weaviate

# Weaviate Cloud (æ‰˜ç®¡)
```

**æˆæœ¬**:
- è‡ªå»º: å…è´¹ (å¼€æº)
- Weaviate Cloud: $100/æœˆèµ·

**æ–‡æ¡£**: https://weaviate.io/developers/weaviate

---

### 5. Milvus

**ç®€ä»‹**: å¼€æºå‘é‡æ•°æ®åº“ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ”¯æŒ GPU

**æ ¸å¿ƒç‰¹ç‚¹**:
- ğŸ”“ å®Œå…¨å¼€æº
- ğŸ“ˆ è¶…å¼ºå¯æ‰©å±•æ€§
- ğŸš€ GPU åŠ é€Ÿ
- ğŸ”„ å®æ—¶æ›´æ–°
- ğŸ“Š å¤§è§„æ¨¡æ•°æ®æ”¯æŒ

**é€‚ç”¨åœºæ™¯**:
- å¤§è§„æ¨¡æ•°æ® (>100GB)
- GPU åŠ é€Ÿéœ€æ±‚
- å®Œå…¨è‡ªä¸»éƒ¨ç½²
- å®æ—¶ç³»ç»Ÿ

**ä¸é€‚ç”¨åœºæ™¯**:
- å¿«é€Ÿä¸Šæ‰‹
- è¿ç»´èµ„æºæœ‰é™
- å°è§„æ¨¡æ•°æ®

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.milvus import MilvusVectorStore

vector_store = MilvusVectorStore(
    host="localhost",
    port=19530,
    collection_name="superstream",
    overwrite=False
)
index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**éƒ¨ç½²æ–¹å¼**:
```bash
# Docker
docker run -d --name milvus -p 19530:19530 -p 9091:9091 milvusdb/milvus:latest

# Kubernetes
helm install milvus milvus/milvus

# Milvus Cloud (æ‰˜ç®¡)
```

**æˆæœ¬**:
- è‡ªå»º: å…è´¹ (å¼€æº) + åŸºç¡€è®¾æ–½
- Milvus Cloud: $300/æœˆèµ·

**æ–‡æ¡£**: https://milvus.io/docs

---

### 6. Qdrant

**ç®€ä»‹**: é«˜æ€§èƒ½å‘é‡æ•°æ®åº“ï¼Œæ”¯æŒ HNSW ç®—æ³•

**æ ¸å¿ƒç‰¹ç‚¹**:
- ğŸš€ è¶…é«˜æ€§èƒ½
- ğŸ’¾ å†…å­˜é«˜æ•ˆ
- ğŸ”“ å¼€æº
- ğŸ¯ å¼ºå¤§çš„è¿‡æ»¤èƒ½åŠ›
- ğŸ”„ æ”¯æŒ REST å’Œ gRPC

**é€‚ç”¨åœºæ™¯**:
- æ€§èƒ½å…³é”®åº”ç”¨
- ä¸­ç­‰è§„æ¨¡æ•°æ®
- éœ€è¦å¼ºå¤§è¿‡æ»¤
- å®æ—¶åº”ç”¨

**ä¸é€‚ç”¨åœºæ™¯**:
- ä¸éœ€è¦è¿œç¨‹è®¿é—®

**é›†æˆæ–¹å¼** (LlamaIndex):
```python
from llama_index.vector_stores.qdrant import QdrantVectorStore
from qdrant_client import QdrantClient

client = QdrantClient(path="./qdrant_storage")

vector_store = QdrantVectorStore(
    client=client,
    collection_name="superstream"
)
index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)
```

**éƒ¨ç½²æ–¹å¼**:
```bash
# Docker
docker run -p 6333:6333 qdrant/qdrant

# Qdrant Cloud (æ‰˜ç®¡)
```

**æˆæœ¬**:
- è‡ªå»º: å…è´¹ (å¼€æº)
- Qdrant Cloud: $50/æœˆèµ·

**æ–‡æ¡£**: https://qdrant.tech/documentation/

---

## è¿ç§»æŒ‡å—

### FAISS â†’ Chroma

**æ­¥éª¤**:

```python
# 1. åŠ è½½ FAISS ç´¢å¼•
from ingest import IndexBuilder
from llama_index.core import VectorStoreIndex

old_index = IndexBuilder().load_index()

# 2. åˆ›å»º Chroma å‘é‡å­˜å‚¨
from llama_index.vector_stores.chroma import ChromaVectorStore
import chromadb

chroma_client = chromadb.HttpClient(host="localhost", port=8000)
collection = chroma_client.get_or_create_collection("superstream")

new_vector_store = ChromaVectorStore(chroma_collection=collection)

# 3. é‡å»ºç´¢å¼•
documents = old_index.docstore.values()  # è·å–åŸå§‹æ–‡æ¡£
new_index = VectorStoreIndex.from_documents(
    documents,
    vector_store=new_vector_store
)

# 4. æµ‹è¯•æ–°ç´¢å¼•
from retrieval import SuperStreamQueryEngine
engine = SuperStreamQueryEngine()
response = engine.query("test query")
print(response)
```

**éªŒè¯æ­¥éª¤**:
```bash
# è¿è¡Œæµ‹è¯•
python scripts/test_query.py

# æ£€æŸ¥ç»“æœä¸€è‡´æ€§
# å¯¹æ¯” FAISS å’Œ Chroma çš„æŸ¥è¯¢ç»“æœ
```

**æ—¶é—´ä¼°è®¡**: 1-2 å°æ—¶

---

### FAISS â†’ Pinecone

**æ­¥éª¤**:

```python
# 1. å‡†å¤‡ API å¯†é’¥
import os
os.environ['PINECONE_API_KEY'] = 'your-api-key'
os.environ['PINECONE_ENVIRONMENT'] = 'gcp-starter'

# 2. åˆå§‹åŒ– Pinecone
import pinecone
pinecone.init(api_key="your-api-key", environment="gcp-starter")

# 3. åˆ›å»ºç´¢å¼•
pinecone.create_index(
    name="superstream",
    dimension=1536,  # OpenAI embeddings ç»´åº¦
    metric="cosine"
)

# 4. è¿ç§»æ•°æ®
from llama_index.vector_stores.pinecone import PineconeVectorStore
from llama_index.core import VectorStoreIndex
from ingest import PDFLoader

# åŠ è½½æ–‡æ¡£
documents = PDFLoader().load_documents()

# åˆ›å»ºå‘é‡å­˜å‚¨
index = pinecone.Index("superstream")
vector_store = PineconeVectorStore(pinecone_index=index)

# å»ºç«‹ç´¢å¼•
new_index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)

# 5. éªŒè¯
print(f"Pinecone ç´¢å¼•ç»Ÿè®¡: {index.describe_index_stats()}")
```

**æˆæœ¬**: é¦–æœˆå¯èƒ½ $25+ï¼ˆå…è´¹é¢åº¦ç”¨å®Œåï¼‰

**æ—¶é—´ä¼°è®¡**: 2-3 å°æ—¶

---

### FAISS â†’ Milvus (è‡ªå»º)

**æ­¥éª¤**:

```bash
# 1. å¯åŠ¨ Milvus
docker run -d --name milvus \
  -p 19530:19530 \
  -p 9091:9091 \
  milvusdb/milvus:latest

# 2. ç­‰å¾…å¯åŠ¨å®Œæˆ
sleep 30
```

```python
# 3. è¿ç§»æ•°æ®
from llama_index.vector_stores.milvus import MilvusVectorStore
from llama_index.core import VectorStoreIndex
from ingest import PDFLoader

# åŠ è½½æ–‡æ¡£
documents = PDFLoader().load_documents()

# åˆ›å»ºå‘é‡å­˜å‚¨
vector_store = MilvusVectorStore(
    host="localhost",
    port=19530,
    collection_name="superstream",
    overwrite=False
)

# å»ºç«‹ç´¢å¼•
new_index = VectorStoreIndex.from_documents(
    documents,
    vector_store=vector_store
)

# 4. éªŒè¯
print("Milvus è¿ç§»å®Œæˆ")
```

**æ—¶é—´ä¼°è®¡**: 1-2 å°æ—¶

---

## æˆæœ¬åˆ†æ

### å¹´åº¦æˆæœ¬å¯¹æ¯” (10GB ç´¢å¼•, 1000 QPS)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Vector Database å¹´åº¦æˆæœ¬å¯¹æ¯” (USD)               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                           â•‘
â•‘  FAISS (å®¹å™¨åŒ–éƒ¨ç½²):                                      â•‘
â•‘  â”œâ”€ è®¡ç®— (EC2 t3.medium): $360                          â•‘
â•‘  â”œâ”€ å­˜å‚¨ (S3, 10GB): $120                               â•‘
â•‘  â””â”€ å°è®¡: $480/å¹´ ğŸ’°                                     â•‘
â•‘                                                           â•‘
â•‘  Chroma (è‡ªå»º):                                          â•‘
â•‘  â”œâ”€ è®¡ç®— (EC2 t3.medium): $360                          â•‘
â•‘  â”œâ”€ å­˜å‚¨ (EBS, 50GB): $500                              â•‘
â•‘  â””â”€ å°è®¡: $860/å¹´ ğŸ’°                                     â•‘
â•‘                                                           â•‘
â•‘  Qdrant (è‡ªå»º):                                          â•‘
â•‘  â”œâ”€ è®¡ç®— (EC2 t3.large): $720                           â•‘
â•‘  â”œâ”€ å­˜å‚¨ (EBS, 50GB): $500                              â•‘
â•‘  â””â”€ å°è®¡: $1220/å¹´ ğŸ’°ğŸ’°                                  â•‘
â•‘                                                           â•‘
â•‘  Milvus (è‡ªå»º):                                          â•‘
â•‘  â”œâ”€ è®¡ç®— (EC2 r5.xlarge): $2920                         â•‘
â•‘  â”œâ”€ å­˜å‚¨ (EBS, 100GB): $1000                            â•‘
â•‘  â””â”€ å°è®¡: $3920/å¹´ ğŸ’°ğŸ’°ğŸ’°                                â•‘
â•‘                                                           â•‘
â•‘  Pinecone (æ‰˜ç®¡):                                        â•‘
â•‘  â”œâ”€ Pro plan: $900                                      â•‘
â•‘  â”œâ”€ è¶…é¢è´¹ç”¨ (ä¼°): $2000                                â•‘
â•‘  â””â”€ å°è®¡: $2900/å¹´ ğŸ’°ğŸ’°                                  â•‘
â•‘                                                           â•‘
â•‘  Weaviate Cloud (æ‰˜ç®¡):                                  â•‘
â•‘  â”œâ”€ Starter: $1200                                      â•‘
â•‘  â”œâ”€ è¶…é¢è´¹ç”¨ (ä¼°): $1500                                â•‘
â•‘  â””â”€ å°è®¡: $2700/å¹´ ğŸ’°ğŸ’°                                  â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æˆæœ¬æ’åº (ä»ä½åˆ°é«˜):
1. FAISS è‡ªå»º ............ $480/å¹´
2. Chroma è‡ªå»º ........... $860/å¹´
3. Qdrant è‡ªå»º ........... $1220/å¹´
4. Weaviate Cloud ........ $2700/å¹´
5. Pinecone .............. $2900/å¹´
6. Milvus è‡ªå»º ........... $3920/å¹´
```

---

## å®æ–½è·¯çº¿å›¾

### é˜¶æ®µ 1ï¼šç°åœ¨ (2025å¹´1æœˆ)

**ç›®æ ‡**: éªŒè¯æ¦‚å¿µã€å¿«é€Ÿä¸Šçº¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç»§ç»­ä½¿ç”¨ FAISS              â”‚
â”‚                                 â”‚
â”‚  âœ… ä¼˜åŠ¿:                       â”‚
â”‚  - é›¶æˆæœ¬                       â”‚
â”‚  - å¿«é€ŸéªŒè¯                     â”‚
â”‚  - ç°æœ‰ä»£ç å¯ç”¨                 â”‚
â”‚  - æ€§èƒ½è¶³å¤Ÿ                     â”‚
â”‚                                 â”‚
â”‚  âš ï¸  å±€é™:                      â”‚
â”‚  - å•æœºéƒ¨ç½²                     â”‚
â”‚  - æ— æ³•è¿œç¨‹è®¿é—®                 â”‚
â”‚  - æ— é«˜å¯ç”¨                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¡ŒåŠ¨**:
- [ ] æœ¬åœ°å®Œæˆ RAG ç³»ç»Ÿå¼€å‘
- [ ] è¿›è¡Œå®Œæ•´åŠŸèƒ½æµ‹è¯•
- [ ] å‡†å¤‡ FastAPI åŒ…è£…å±‚
- [ ] ç¼–å†™ Docker é•œåƒ

**äº§å‡º**:
- å®Œæ•´çš„æœ¬åœ° RAG ç³»ç»Ÿ
- å¯è¿è¡Œçš„ Docker é•œåƒ
- æ€§èƒ½åŸºå‡†æ•°æ®

---

### é˜¶æ®µ 2ï¼šå°è§„æ¨¡ä¸Šçº¿ (2025å¹´2æœˆ-3æœˆ)

**ç›®æ ‡**: å¿«é€ŸéªŒè¯å¸‚åœºã€å°ç”¨æˆ·é‡ä¸Šçº¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€‰é¡¹ A: å®¹å™¨åŒ– FAISS (æ¨è)     â”‚
â”‚                                  â”‚
â”‚  éƒ¨ç½²:                            â”‚
â”‚  AWS ECS / Docker å®¹å™¨            â”‚
â”‚  â†“                               â”‚
â”‚  FastAPI æœåŠ¡                     â”‚
â”‚  â†“                               â”‚
â”‚  FAISS æœ¬åœ°ç´¢å¼•                   â”‚
â”‚  â†“                               â”‚
â”‚  S3 å¤‡ä»½ç´¢å¼•æ–‡ä»¶                  â”‚
â”‚                                  â”‚
â”‚  æˆæœ¬: $50-100/æœˆ                â”‚
â”‚  å»¶è¿Ÿ: 50-100ms                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¡ŒåŠ¨**:
- [ ] å®Œæˆ FastAPI åŒ…è£…
- [ ] åˆ›å»º Dockerfile
- [ ] éƒ¨ç½²åˆ° AWS ECS (æˆ–é˜¿é‡Œäº‘)
- [ ] é…ç½®ç›‘æ§å’Œæ—¥å¿—
- [ ] æ­å»º CI/CD æµç¨‹

**äº§å‡º**:
- äº‘ç«¯æœåŠ¡ (beta)
- ç›‘æ§ä»ªè¡¨ç›˜
- æ€§èƒ½æ•°æ®æ”¶é›†

---

### é˜¶æ®µ 3ï¼šå¢é•¿æœŸ (2025å¹´4æœˆ-6æœˆ)

**ç›®æ ‡**: åº”å¯¹å¢é•¿ã€æå‡å¯é æ€§

**è½¬å‘ç‚¹åˆ¤æ–­**:
```
å¦‚æœ â†“
â”œâ”€ æ—¥å‡æŸ¥è¯¢ > 10,000
â”œâ”€ ç´¢å¼•å¤§å° > 10GB
â”œâ”€ éœ€è¦ 99.5% å¯ç”¨æ€§
â””â”€ ç”¨æˆ·åé¦ˆå“åº”æ…¢

é‚£ä¹ˆ â†’ å‡çº§åˆ°äº‘åŸç”Ÿå‘é‡æ•°æ®åº“
```

**è¿ç§»æ–¹æ¡ˆé€‰æ‹©**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆ A: Chroma (æ¨è <= 100GB)    â”‚
â”‚                                     â”‚
â”‚  ä¼˜ç‚¹: è½»é‡çº§ã€æ˜“è¿ç§»ã€å¤Ÿç”¨        â”‚
â”‚  æˆæœ¬: ~$150-300/æœˆ                â”‚
â”‚  å·¥ä½œé‡: ä¸­ç­‰ (1-2å‘¨)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆ B: Qdrant (æ¨è æ€§èƒ½å…³é”®)     â”‚
â”‚                                     â”‚
â”‚  ä¼˜ç‚¹: é«˜æ€§èƒ½ã€è‡ªä¸»éƒ¨ç½²             â”‚
â”‚  æˆæœ¬: ~$200-400/æœˆ                â”‚
â”‚  å·¥ä½œé‡: ä¸­ç­‰ (1-2å‘¨)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆ C: Pinecone (æ¨è æ— è¿ç»´)     â”‚
â”‚                                     â”‚
â”‚  ä¼˜ç‚¹: å®Œå…¨æ‰˜ç®¡ã€æ— éœ€è¿ç»´           â”‚
â”‚  æˆæœ¬: ~$300-500/æœˆ                â”‚
â”‚  å·¥ä½œé‡: å°‘ (2-3å¤©)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¡ŒåŠ¨**:
- [ ] è¯„ä¼°å®é™…æµé‡æ•°æ®
- [ ] é€‰æ‹©ç›®æ ‡å‘é‡æ•°æ®åº“
- [ ] å¼€å‘è¿ç§»è„šæœ¬
- [ ] è¿›è¡Œç°åº¦è¿ç§» (10% æµé‡)
- [ ] ç›‘æ§å¯¹æ¯”æ€§èƒ½
- [ ] å®Œå…¨åˆ‡æ¢

**äº§å‡º**:
- æ–°å‘é‡æ•°æ®åº“ä¸Šçº¿
- è¿ç§»è‡ªåŠ¨åŒ–è„šæœ¬
- æ€§èƒ½å¯¹æ¯”æŠ¥å‘Š

---

### é˜¶æ®µ 4ï¼šè§„æ¨¡åŒ– (2025å¹´7æœˆ+)

**ç›®æ ‡**: ç”Ÿäº§çº§ç³»ç»Ÿã€å¤šåœ°åŸŸéƒ¨ç½²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯èƒ½çš„ç»ˆæ€æ¶æ„                      â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   API Gateway (å…¨çƒ)         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚     â†“         â†“         â†“           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ US  â”‚  â”‚ EU  â”‚  â”‚ Asiaâ”‚         â”‚
â”‚  â”‚ VDB â”‚  â”‚ VDB â”‚  â”‚ VDB â”‚  åŒºåŸŸ   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  éƒ¨ç½²   â”‚
â”‚     â†“         â†“         â†“           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ•°æ®åŒæ­¥ (å®æ—¶æˆ–å®šæœŸ)       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¯é€‰æ–¹æ¡ˆ**:
- Pinecone + å¤šåœ°åŸŸéƒ¨ç½² ($5000+/æœˆ)
- è‡ªå»º Milvus é›†ç¾¤ + æ•°æ®å¤åˆ¶ (å¤æ‚)
- æ··åˆæ–¹æ¡ˆ (æŸäº›åœ°åŒº Pineconeï¼ŒæŸäº›åœ°åŒºè‡ªå»º)

---

## å†³ç­–æ¸…å•

### ç«‹å³å†³å®š

- [ ] **å¼€å‘ç¯å¢ƒ**: ç»§ç»­ä½¿ç”¨ FAISS (æ¨è)
- [ ] **éƒ¨ç½²å‘¨æœŸ**: 2-3 æœˆåè€ƒè™‘è¿ç§»
- [ ] **é¢„ç®—**:
  - [ ] çŸ­æœŸ: $0 (æœ¬åœ°å¼€å‘)
  - [ ] ä¸­æœŸ: $100-300/æœˆ
  - [ ] é•¿æœŸ: è§†ä¸šåŠ¡è§„æ¨¡

### å‡†å¤‡å·¥ä½œ

- [ ] **ä»£ç **: å®Œæˆ FastAPI åŒ…è£…å±‚
- [ ] **åŸºç¡€è®¾æ–½**: å­¦ä¹  Docker éƒ¨ç½²
- [ ] **ç›‘æ§**: å‡†å¤‡æ”¶é›†æ€§èƒ½æ•°æ®
- [ ] **å¤‡é€‰**: ç ”ç©¶ 2-3 ä¸ªå€™é€‰æ–¹æ¡ˆ

### å…³é”®æŒ‡æ ‡ç›‘æ§

```python
# éœ€è¦è·Ÿè¸ªçš„æŒ‡æ ‡
METRICS = {
    "æ—¥å‡æŸ¥è¯¢æ•°": 0,
    "å¹³å‡å“åº”æ—¶é—´": 0,
    "ç´¢å¼•å¤§å°": 0,
    "ç³»ç»Ÿå¯ç”¨æ€§": 0,
    "ç”¨æˆ·åé¦ˆ": ""
}

# è§¦å‘è¿ç§»çš„é˜ˆå€¼
MIGRATION_TRIGGERS = {
    "æ—¥å‡æŸ¥è¯¢æ•° > 10000": True,
    "å“åº”æ—¶é—´ > 500ms": True,
    "ç´¢å¼•å¤§å° > 10GB": True,
    "å¯ç”¨æ€§ < 99%": True,
}
```

---

## å¸¸è§é—®é¢˜

### Q: FAISS èƒ½ä¸Šäº‘å—?

**A**: å¯ä»¥ï¼Œä½†æœ‰å±€é™ï¼š
- âœ… å¯ä»¥ç”¨ Docker å®¹å™¨éƒ¨ç½²åˆ°äº‘
- âœ… å¯ä»¥åœ¨äº‘å­˜å‚¨ä¸Šå¤‡ä»½ç´¢å¼•æ–‡ä»¶
- âŒ ä¸èƒ½ç›´æ¥ä½œä¸ºè¿œç¨‹å‘é‡æ•°æ®åº“
- âŒ ä¸æ”¯æŒåˆ†å¸ƒå¼æ‰©å±•

æ¨èæ–¹æ¡ˆæ˜¯å®¹å™¨åŒ–éƒ¨ç½² (æ–¹æ¡ˆ A) æˆ–è¿ç§»åˆ°äº‘åŸç”Ÿæ•°æ®åº“ã€‚

---

### Q: å¦‚ä½•é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“?

**A**: æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§è€ƒè™‘ï¼š

1. **æˆæœ¬ä¼˜å…ˆ** â†’ FAISS / Chroma è‡ªå»º
2. **æ€§èƒ½ä¼˜å…ˆ** â†’ Pinecone / Qdrant
3. **åŠŸèƒ½ä¼˜å…ˆ** â†’ Weaviate / Milvus
4. **æ˜“ç”¨ä¼˜å…ˆ** â†’ Pinecone / Chroma Cloud
5. **æ§åˆ¶ä¼˜å…ˆ** â†’ Milvus / Qdrant è‡ªå»º

---

### Q: FAISS è¿ç§»åˆ°å…¶ä»–æ•°æ®åº“å¤æ‚å—?

**A**: ä¸å¤æ‚ï¼Œä¸€èˆ¬ 1-2 å°æ—¶å®Œæˆï¼š

1. åŠ è½½ç°æœ‰æ–‡æ¡£
2. åˆ›å»ºæ–°å‘é‡å­˜å‚¨
3. é‡å»ºç´¢å¼• (è‡ªåŠ¨åµŒå…¥)
4. éªŒè¯ç»“æœ

LlamaIndex æä¾›ç»Ÿä¸€çš„ APIï¼Œè¿ç§»ä»£ç æ”¹åŠ¨å¾ˆå°ã€‚

---

### Q: æˆ‘åº”è¯¥ä»€ä¹ˆæ—¶å€™è¿ç§»?

**A**: å½“å‡ºç°ä»¥ä¸‹æƒ…å†µæ—¶è€ƒè™‘è¿ç§»ï¼š

- æ—¥å‡æŸ¥è¯¢ > 5000
- ç´¢å¼•å¤§å° > 5GB
- éœ€è¦å¤šç”¨æˆ·å¹¶å‘
- éœ€è¦å®æ—¶ç´¢å¼•æ›´æ–°
- éœ€è¦ 99% ä»¥ä¸Šå¯ç”¨æ€§

å¦åˆ™ï¼Œç»§ç»­ä½¿ç”¨ FAISS å³å¯ã€‚

---

### Q: è‡ªå»º vs æ‰˜ç®¡å“ªä¸ªæ›´ä¾¿å®œ?

**A**: å°è§„æ¨¡è‡ªå»ºä¾¿å®œï¼Œå¤§è§„æ¨¡æ‰˜ç®¡ä¾¿å®œï¼š

```
æˆæœ¬éšè§„æ¨¡å¢é•¿
â”‚
â”‚ æ‰˜ç®¡æ–¹æ¡ˆ
â”‚    /
â”‚  /
â”‚ /  è‡ªå»ºæ–¹æ¡ˆ
â”‚_/_____________________ è§„æ¨¡
  ç ´æœ¬ç‚¹ (~100GB)

å°è§„æ¨¡: è‡ªå»ºä¾¿å®œ
å¤§è§„æ¨¡: æ‰˜ç®¡ä¾¿å®œ (æ— è¿ç»´æˆæœ¬)
```

---

### Q: èƒ½å¦åŒæ—¶ä½¿ç”¨å¤šä¸ªå‘é‡æ•°æ®åº“?

**A**: å¯ä»¥ï¼Œä½†ä¸æ¨èï¼š

```python
# åŒæ—¶æŸ¥è¯¢å¤šä¸ªæ•°æ®åº“
index1_results = faiss_index.query(q)
index2_results = chroma_index.query(q)

# åˆå¹¶ç»“æœ
combined = merge_results(index1_results, index2_results)
```

**ç”¨é€”**: ç°åº¦è¿ç§»ã€A/B æµ‹è¯•

**æ¨è**: é€‰æ‹©ä¸€ä¸ªä¸»æ•°æ®åº“ï¼Œå…¶ä»–ä½œä¸ºå¤‡ä»½ã€‚

---

## å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [FAISS GitHub](https://github.com/facebookresearch/faiss)
- [Chroma Documentation](https://docs.trychroma.com/)
- [Pinecone Documentation](https://docs.pinecone.io/)
- [Weaviate Documentation](https://weaviate.io/developers/weaviate)
- [Milvus Documentation](https://milvus.io/docs)
- [Qdrant Documentation](https://qdrant.tech/documentation/)

### LlamaIndex é›†æˆ

- [LlamaIndex Vector Store Integrations](https://docs.llamaindex.ai/en/stable/module_guides/indexing/vector_store.html)

### ç›¸å…³åšå®¢

- [Selecting Vector Databases for RAG](https://www.llamaindex.ai/)
- [Vector Database Comparison](https://weaviate.io/blog/)
- [Milvus Performance Benchmarks](https://github.com/milvus-io/milvus)

---

## æ€»ç»“

| é˜¶æ®µ | æ¨èæ–¹æ¡ˆ | æˆæœ¬ | å¤æ‚åº¦ |
|------|--------|------|--------|
| **ç°åœ¨** | FAISS | $0 | â­ |
| **å°è§„æ¨¡** | FAISS å®¹å™¨åŒ– | $50-100 | â­â­ |
| **å¢é•¿æœŸ** | Chroma / Pinecone | $150-500 | â­â­â­ |
| **è§„æ¨¡åŒ–** | è§†éœ€æ±‚ | $300-5000+ | â­â­â­â­ |

**æœ€é‡è¦çš„æ˜¯**: ä¸è¦è¿‡åº¦è®¾è®¡ã€‚å…ˆç”¨ FAISS éªŒè¯äº§å“ï¼Œæ ¹æ®å®é™…éœ€æ±‚å†å‡çº§ã€‚

---

**æ–‡æ¡£ç»´æŠ¤**: Claude AI
**æœ€åæ›´æ–°**: 2025-12-24
**ç‰ˆæœ¬**: 1.0
